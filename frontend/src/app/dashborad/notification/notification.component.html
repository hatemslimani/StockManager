<div class="dropdown-menu dropdown-menu-right notification-dropdown" [class.show]="isOpen">
    <div class="dropdown-header d-flex justify-content-between align-items-center">
        <h6 class="mb-0">Notifications</h6>
        <div class="dropdown-toolbar-actions">
            <a href="#" (click)="markAllAsRead(); $event.preventDefault()" *ngIf="unreadCount > 0">
                Tout marquer comme lu
            </a>
        </div>
    </div>
    <div class="dropdown-divider"></div>
    <div class="notification-list" [class.empty]="notifications.length === 0">
        <div *ngFor="let notification of notifications" class="notification-item" [class.unread]="!notification.isRead">
            <div class="media">
                <div class="media-left">
                    <i class="fas" [ngClass]="getNotificationIcon(notification.type)"></i>
                </div>
                <div class="media-body" (click)="markAsRead(notification)">
                    <h6 class="notification-title">{{notification.title}}</h6>
                    <p class="notification-message">{{notification.message}}</p>
                    <small class="notification-time">
                        {{notification.date_ajout | date:'short'}}
                    </small>
                </div>
                <div class="media-right">
                    <button class="btn btn-link btn-sm" (click)="deleteNotification(notification.id)">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
        <div *ngIf="notifications.length === 0" class="empty-state">
            <p class="text-center mb-0">Aucune notification</p>
        </div>
    </div>
</div>